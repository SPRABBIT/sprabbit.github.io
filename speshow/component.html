<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>UI组件 - SpeShow 文档</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="Node.js,SpeShow,SpeShow.js,galgame引擎,AVG引擎,同人游戏,同人社团,游戏引擎,Galgame,AVG,SPRABBIT,SPENGINE" />
	<meta name="description" content="SpeShow.js是一个基于DirectX的Node.js可视化程序构建方案、AVG引擎、图文演示程序脚本引擎" />

	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

	<!-- syntax highlighting CSS -->
	<link rel="stylesheet" href="/css/syntax.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="stylesheet" href="/css/shCore.css" type="text/css" />
	<link rel="stylesheet" href="/css/shThemeFadeToGrey.css" type="text/css" />
	<link rel="stylesheet" href="/css/spengine.css" type="text/css" />
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

	<body data-spy="scroll" data-target=".sidebar">
	<div class="navbar navbar-inverse navbar-static-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a href="/speshow/">
					<img src="/images/logo_speshow_long_xs.png">
				</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/speshow/">简介</a>
					</li>
					<li><a href="/speshow/docs.html">文档</a>
					</li>
					<li><a href="/">SPRABBIT主页</a>
					</li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<div data-spy="affix" data-offset-top="70" class="navbar hidden-print hidden-xs hidden-sm affix-top" role="complementary">
					<ul class="nav sidebar">
	<li><a href="index.html">SpeShow.JS 简介</a>
	</li>
	<li>
		<a href="docs.html">文档</a>
		<ul class="nav">
			<li>
				<a href="quick_start.html">快速入门</a>
				<ul class="nav">
					<li><a href="#hello_world">Hello World</a>
					</li>
					<li><a href="#hello_component">Hello 组件</a>
					</li>
					<li><a href="#hello_file">Hello 脚本文件</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="deployment.html">部署 SpeShow</a>
				<ul class="nav">
					<li><a href="#init">入口文件</a>
					</li>
					<li><a href="#debug">调试模式</a>
					</li>
					<li><a href="#config">配置文件</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="javascript.html">JavaScript</a>
				<ul class="nav">
					<li><a href="#node.js">Node.js</a>
					</li>
					<li><a href="#speshow_mod">SpeShow 模块</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="speshow_module.html">SpeShow 模块</a>
				<ul class="nav">
					<li><a href="#jump">脚本文件引入及跳转</a>
					</li>
					<li><a href="#queue_func">队列函数</a>
					</li>
                    <li><a href="#register_font">注册字体</a>
					</li>
					<li><a href="#variable_type">系统变量与屏幕变量</a>
					</li>
					<li><a href="#state_saving">状态保存</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="script_type.html">脚本分类</a>
				<ul class="nav">
					<li><a href="#normal_script">一般脚本</a>
					</li>
					<li><a href="#queued_script">队列脚本</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="window.html">窗口</a>
				<ul class="nav">
					<li><a href="#title">标题</a>
					</li>
					<li><a href="#resize">窗口大小</a>
					</li>
					<li><a href="#cursor">指针</a>
					</li>
					<li><a href="#fps">FPS</a>
					</li>
					<li><a href="#onexit">退出事件</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="screen.html">屏幕</a>
				<ul class="nav">
					<li><a href="#root">根组件</a>
					</li>
					<li><a href="#focus">聚焦</a>
					</li>					
					<li><a href="#capture">截图</a>
					</li>
					<li><a href="#create_component">创建组件</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="component.html">UI组件</a>
				<ul class="nav">
					<li><a href="#normal_component">基本组件</a>
					</li>
					<li><a href="#animation">动画</a>
					</li>
					<li><a href="#effect">特效</a>
					</li>
					<li><a href="#picturebox">图片框</a>
					</li>
					<li><a href="#textbox">文字框</a>
					</li>
					<li><a href="#dialogbox">AVG对话框</a>
					</li>
                    <li><a href="#scroll">滚动框（列表）</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="event.html">事件响应</a>
				<ul class="nav">
					<li><a href="#propagation">事件传递</a>
					</li>
					<li><a href="#event_handling">事件处理</a>
					</li>
					<li><a href="#event_type">事件类型</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="multimedia.html">多媒体</a>
				<ul class="nav">
					<li><a href="#sound">音频</a>
					</li>
					<li><a href="#video">视频</a>
					</li>
					<li><a href="#sprite">精灵动画</a>
					</li>
					<li><a href="#particle">粒子系统</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="advanced.html">进阶指南</a>
				<ul class="nav">
					<li><a href="#customize_effect">自定义特效</a>
					</li>
					<li><a href="#packing">打包资源文件</a>
					</li>
					<li><a href="#customize_packing">修改打包加密方法</a>
					</li>
				</ul>
			</li>
			<li><a href="reference.html">索引</a>
			</li>
			<li><a href="sample.html">示例</a>
			</li>
		</ul>
	</li>
	<li> <a href="show.html">演示</a>
	</li>
	<li><a href="license.html">使用许可</a>
	</li>
	<li>
		<a href="download.html">下载</a>
		<ul class="nav">
			<li><a href="download.html">SpeShow</a>
			</li>
			<li><a href="pack_guider.html">SSPackGuider</a>
			</li>
			<li><a href="editor.html">编辑器推荐</a>
			</li>
		</ul>
	</li>
	<li> <a href="donate.html">捐赠</a>
	</li>
	<li> <a href="FAQ.html">FAQ</a>
	</li>
	<li class="warn-new-doc">
		<a href="/spengine/">
			旧版文档(KS版本)
		</a>
	</li>
</ul>

				</div>
			</div>
			<div class="col-md-9 content-main" role="main">
				<h2>UI组件</h2>

<p>UI组件是屏幕渲染的基本单位，类似于HTML中的DOM节点，简单地说就是一个包含图片或文字内容的矩形。一个组件可以包含多个子组件，层层嵌套，从而形成一棵组件树，整棵树的根节点就是 Screen 对象的 <code>root</code> 节点。</p>

<p>UI组件是从属于屏幕的对象，一个UI组件只能渲染在对应的屏幕上，而不能插入到其他屏幕的组件树上。因此组件只能由 Screen 对象来生产：</p>

<pre class="brush:js">
    var com = screen.createComponent(opt);
</pre>

<p>其中 <code>opt</code> 为初始化参数对象，他可以包含以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>id</td><td>字符串</td><td>是</td><td>无</td><td>组件的ID，同一个屏幕中只允许存在一个该ID的组件。</td></tr><tr><td>type</td><td>字符串</td><td>否</td><td>无</td><td>UI组件的类型，若不填则为基本组件。</td></tr></table>

<p>除了以上属性外，<code>opt</code> 还可以包含对应组件的可用属性初始化，不同组件的属性详见下文。</p>

<hr>

<h3 id="normal_component">基本组件</h3>

<p>基本组件就是最简单的组件，其生产方法为将 <code>createComponent</code> 的 <code>opt</code> 参数的 <code>type</code> 属性设置为undefined或不传type：</p>

<pre class="brush:js">
    var normalCom = screen.createComponent({
        id: '一个基本组件',
        type: undefined
    });
</pre>

<p>返回的 <code>normalCom</code> 对象有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>只读</th><th>描述</th></tr><tr><td>backgroundColor</td><td>数字</td><td>否</td><td>背景颜色，用四通道十六进制数表示。</td></tr><tr><td>backgroundFillMode</td><td>字符串</td><td>否</td><td>背景图片填充模式，可以是以下值：<ul><li>'Positioning'</li><li>'Fill'</li><li>'FitWidth'</li><li>'FitHeight'</li><li>'FitMin'</li><li>'FitMax'</li></ul>默认为'Positioning'，即根据backgroundPositionMode定位。</td></tr><tr><td>backgroundImage</td><td>字符串</td><td>否</td><td>背景图片的完整路径，包括后缀。</td></tr><tr><td>backgroundPositionMode</td><td>字符串</td><td>否</td><td>背景图片位置模式，仅当backgroundFillMode设置为'Positioning'时有用。可以是以下值：<ul><li>'Normal'</li><li>'TopLeft'</li><li>'TopRight'</li><li>'TopCenter'</li><li>'BottomLeft'</li><li>'BottomRight'</li><li>'BottomCenter'</li><li>'CenterLeft'</li><li>'CengerRight'</li><li>'CenterAll'</li></ul>默认为'Normal'，即根据backgroundX，backgroundY来定位。</td></tr><tr><td>backgroundX</td><td>数字</td><td>否</td><td>背景图片相对本组件左上角的水平位置。</td></tr><tr><td>backgroundY</td><td>数字</td><td>否</td><td>背景图片相对本组件左上角的垂直位置。</td></tr><tr><td>display</td><td>布尔值</td><td>否</td><td>是否显示该组件及其子组件。</td></tr><tr><td>height</td><td>数字</td><td>否</td><td>组件的高度，以像素为单位。</td></tr><tr><td>depth</td><td>数字</td><td>否</td><td>层深，为 0-255 间的数字，数字较大的层在数字较小的层前面。</td></tr><tr><td>name</td><td>字符串</td><td>否</td><td>组件的ID，同一个屏幕中只允许存在一个该ID的组件。</td></tr><tr><td>rotation</td><td>数字</td><td>否</td><td>组件绕旋转中心逆时针旋转的弧度。</td></tr><tr><td>rotationCenterX</td><td>数字</td><td>否</td><td>组件旋转中心相对父组件左上角的水平位置，以像素为单位。</td></tr><tr><td>rotationCenterY</td><td>数字</td><td>否</td><td>组件旋转中心相对父组件左上角的垂直位置，以像素为单位。</td></tr><tr><td>opacity</td><td>数字</td><td>否</td><td>透明度，可以是 0 - 1 之间的数。0 为全透。</td></tr><tr><td>width</td><td>数字</td><td>否</td><td>组件的宽度，以像素为单位。</td></tr><tr><td>x</td><td>数字</td><td>否</td><td>组件相对父组件左上角的水平位置，以像素为单位。</td></tr><tr><td>y</td><td>数字</td><td>否</td><td>组件相对父组件左上角的垂直位置，以像素为单位。</td></tr><tr><td>absolute</td><td>布尔值</td><td>否</td><td>是否以绝对模式绘制，默认为true。</td></tr><tr><td>childComponents</td><td>数组</td><td>是</td><td>储存所有子组件的数组，只读。</td></tr><tr><td>parent</td><td>组件对象</td><td>否</td><td>设置获取父亲组件。</td></tr><tr><td>onClick</td><td>函数</td><td>否</td><td>点击响应方法。</td></tr><tr><td>onDClick</td><td>函数</td><td>否</td><td>双击响应方法。</td></tr><tr><td>onMouseUp</td><td>函数</td><td>否</td><td>鼠标按键弹起响应方法。</td></tr><tr><td>onMouseDown</td><td>函数</td><td>否</td><td>鼠标按键按下响应方法。</td></tr><tr><td>onMouseScroll</td><td>函数</td><td>否</td><td>鼠标滚轮滚动响应方法。</td></tr><tr><td>onMouseOver</td><td>函数</td><td>否</td><td>鼠标停留响应方法。</td></tr><tr><td>onMouseIn</td><td>函数</td><td>否</td><td>鼠标移入响应方法。</td></tr><tr><td>onMouseOut</td><td>函数</td><td>否</td><td>鼠标移出响应方法。</td></tr><tr><td>onKeyPress</td><td>函数</td><td>否</td><td>键盘按键持续按下响应方法。</td></tr><tr><td>onKeyUp</td><td>函数</td><td>否</td><td>键盘按键弹起响应方法。</td></tr><tr><td>onKeyDown</td><td>函数</td><td>否</td><td>键盘按键按下响应方法。</td></tr><tr><td>catchClick</td><td>函数</td><td>否</td><td>点击捕获方法。</td></tr><tr><td>catchDClick</td><td>函数</td><td>否</td><td>双击捕获方法。</td></tr><tr><td>catchMouseUp</td><td>函数</td><td>否</td><td>鼠标按键弹起捕获方法。</td></tr><tr><td>catchMouseDown</td><td>函数</td><td>否</td><td>鼠标按键按下捕获方法。</td></tr><tr><td>catchMouseScroll</td><td>函数</td><td>否</td><td>鼠标滚轮滚动捕获方法。</td></tr><tr><td>catchMouseOver</td><td>函数</td><td>否</td><td>鼠标停留捕获方法。</td></tr><tr><td>catchMouseIn</td><td>函数</td><td>否</td><td>鼠标移出捕获方法。</td></tr><tr><td>catchMouseOut</td><td>函数</td><td>否</td><td>鼠标移出捕获方法。</td></tr><tr><td>catchKeyPress</td><td>函数</td><td>否</td><td>键盘按键持续按下捕获方法。</td></tr><tr><td>catchKeyUp</td><td>函数</td><td>否</td><td>键盘按键弹起捕获方法。</td></tr><tr><td>catchKeyDown</td><td>函数</td><td>否</td><td>键盘按键按下捕获方法。</td></tr></table>

<p>以上这些属性若非只读属性，均可以在使用 <code>createComponent</code> 生成组件时作为 <code>opt</code> 的属性值传入，如：</p>

<pre class="brush:js">
    var normalCom = screen.createComponent({
        id: '一个基本组件',
        backgroundColor: 0x00ffffff,
        onClick: function(e){
            // 响应点击
        }
    });
</pre>

<p>其中以 <code>on</code> 和 <code>catch</code> 开头的属性为事件处理器，将在 <a href="event.html">事件文档</a> 详细讲解。<code>backgroundImage</code> 属性除了可以是字符串外，还可以是图像对象，详见 <a href="multimedia.html">多媒体文档</a>。</p>

<p>除了以上属性，基本组件还包括以下方法：</p>

<h4>appendChild</h4>

<p><code>appendChild</code> 方法用于为组件添加一个子组件到子组件列表尾部。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.appendChild(child);
</pre>

<h5>参数</h5>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>child</td><td>组件对象</td><td>是</td><td>无</td><td>目标组件。</td></tr></table>

<h4>removeChild</h4>

<p><code>removeChild</code> 方法用于为组件删除一个子组件。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.removeChild(child);
</pre>

<h5>参数</h5>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>child</td><td>组件对象</td><td>是</td><td>无</td><td>目标组件。</td></tr></table>

<h4>insertBefore</h4>

<p><code>insertBefore</code> 方法用于插入一个子组件到另一个子组件之前。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.insertBefore(targetChild, nextChild);
</pre>

<h5>参数</h5>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>targetChild</td><td>组件对象</td><td>是</td><td>无</td><td>需要插入的目标组件。</td></tr><tr><td>nextChild</td><td>组件对象</td><td>是</td><td>无</td><td>需要被插入到其之前的子组件。</td></tr></table>

<hr>

<h3 id="animation">动画</h3>

<p>动画即是插值动画，即计算当前状态与目标状态的差值再除以单位时间，每单位之间改变组件的属性值，从而实现渐变动画。</p>

<h4>addAnimation</h4>

<p><code>addAnimation</code> 方法用于为组件添加一个插值动画，传入目标状态作为参数后，组件将产生一段动画并渐变到目标状态。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.addAnimation(opt);
</pre>

<h5>参数</h5>

<p>参数 <code>opt</code> 为目标状态对象，其可以有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>addMode</td><td>字符串</td><td>否</td><td>'Normal'</td><td>动画添加方式：<ul><li>'Merge'-覆盖当前动画</li><li>'Skip'-跳过当前动画</li><li>'Normal'-直接添加</li></ul></td></tr><tr><td>time</td><td>数字</td><td>否</td><td>0</td><td>动画持续时间，以秒为单位的浮点数。</td></tr><tr><td>replay</td><td>字符串</td><td>否</td><td>'Normal'</td><td>回放速度类型：<ul><li>'SlowIn'/'FastOut'</li><li>'SlowOut'/'FastIn'</li><li>'SlowInOut'</li><li>'FastInOut'</li><li>'Normal'</li></ul></td></tr><tr><td>canSkip</td><td>布尔值</td><td>否</td><td>true</td><td>是否可以跳过。</td></tr><tr><td>backgroundColor</td><td>数字</td><td>否</td><td>原值</td><td>目标背景颜色，用四通道十六进制数表示。</td></tr><tr><td>backgroundImage</td><td>字符串</td><td>否</td><td>原值</td><td>目标背景图片的完整路径，包括后缀。</td></tr><tr><td>backgroundX</td><td>数字</td><td>否</td><td>原值</td><td>目标背景图片相对本组件左上角的水平位置。</td></tr><tr><td>backgroundY</td><td>数字</td><td>否</td><td>原值</td><td>目标背景图片相对本组件左上角的垂直位置。</td></tr><tr><td>backgroundXDelta</td><td>数字</td><td>否</td><td>0</td><td>目标背景图片相对本组件左上角的水平位置变动。</td></tr><tr><td>backgroundYDelta</td><td>数字</td><td>否</td><td>0</td><td>目标背景图片相对本组件左上角的垂直位置变动。</td></tr><tr><td>width</td><td>数字</td><td>否</td><td>原值</td><td>组件的目标宽度，以像素为单位。</td></tr><tr><td>height</td><td>数字</td><td>否</td><td>原值</td><td>组件的目标高度，以像素为单位。</td></tr><tr><td>layer</td><td>数字</td><td>否</td><td>原值</td><td>目标层深，为 0-255 间的数字，数字较大的层在数字较小的层前面。</td></tr><tr><td>rotation</td><td>数字</td><td>否</td><td>原值</td><td>组件绕旋转中心逆时针旋转的目标弧度。</td></tr><tr><td>rotationDelta</td><td>数字</td><td>否</td><td>0</td><td>组件绕旋转中心逆时针旋转的目标弧度变动。</td></tr><tr><td>rotationCenterX</td><td>数字</td><td>否</td><td>原值</td><td>组件目标旋转中心相对父组件左上角的水平位置，以像素为单位。</td></tr><tr><td>rotationCenterXDelta</td><td>数字</td><td>否</td><td>0</td><td>组件目标旋转中心相对父组件左上角的水平位置变动，以像素为单位。</td></tr><tr><td>rotationCenterY</td><td>数字</td><td>否</td><td>原值</td><td>组件目标旋转中心相对父组件左上角的垂直位置，以像素为单位。</td></tr><tr><td>rotationCenterYDelta</td><td>数字</td><td>否</td><td>0</td><td>组件目标旋转中心相对父组件左上角的垂直位置变动，以像素为单位。</td></tr><tr><td>opacity</td><td>数字</td><td>否</td><td>原值</td><td>目标透明度，可以是 0 - 1 之间的数。0 为全透。</td></tr><tr><td>x</td><td>数字</td><td>否</td><td>原值</td><td>组件相对父组件左上角的目标水平位置，以像素为单位。</td></tr><tr><td>y</td><td>数字</td><td>否</td><td>原值</td><td>组件相对父组件左上角的目标垂直位置，以像素为单位。</td></tr><tr><td>xDelta</td><td>数字</td><td>否</td><td>0</td><td>组件相对父组件左上角的目标水平位置变动，以像素为单位。</td></tr><tr><td>yDelta</td><td>数字</td><td>否</td><td>0</td><td>组件相对父组件左上角的目标垂直位置变动，以像素为单位。</td></tr></table>

<hr>

<h3 id="effect">特效</h3>

<p>使用特效可以为组件添加滤镜等数字图像处理效果，实际上就是基于HLSL的像素着色器。若组件包含子组件，并需要将特效覆盖到子组件上，需要将组件的 <code>absolute</code> 属性设为 <code>false</code>，否则特效只会应用到该组件上。特效支持自定义，详见 <a href="advanced.html">进阶指南</a>。</p>

<h4>addEffect</h4>

<p><code>addEffect</code> 方法用于为组件添加一个特效（动画），传入特效配置作为参数后，组件将产生一段动画并根据特效渐变到目标状态。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.addEffect(opt);
</pre>

<h5>参数</h5>

<p>参数 <code>opt</code> 为特效配置对象，其可以有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>type</td><td>字符串</td><td>是</td><td>无</td><td>需要使用的特效，可以为以下值或自定义特效文件：<ul><li>'Mask'（遮片）</li><li>'Gauss'（高斯模糊）</li><li>'Gray'（灰度）</li>  <li>'Mosaic'（马赛克）</li><li>'MosaicAll'（马赛克）</li><li>'Posure'</li><li>'Relievo'（浮雕）</li><li>'Average'（均衡）</li><li>'Laplace'（锐化）</li><li>'Pencil'（铅笔画）</li><li>'TextGlow'（文字外扩）</li><li>'TextStroke'（文字描边）</li><li>'TextShadow'（文字阴影）</li></ul></td></tr><tr><td>addMode</td><td>字符串</td><td>否</td><td>'Normal'</td><td>特效添加方式：<ul><li>'Skip'-跳过当前特效</li><li>'Normal'-直接添加</li></ul></td></tr><tr><td>time</td><td>数字</td><td>否</td><td>0</td><td>特效变化时间，以秒为单位的浮点数。</td></tr><tr><td>canSkip</td><td>布尔值</td><td>否</td><td>true</td><td>是否可以跳过。</td></tr><tr><td>texture</td><td>字符串</td><td>否</td><td>无</td><td>参与特效的图片路径。</td></tr><tr><td>level</td><td>数字</td><td>否</td><td>0</td><td>特效级别。</td></tr><tr><td>replay</td><td>字符串</td><td>否</td><td>'Normal'</td><td>回放速度类型：<ul><li>'SlowIn'/'FastOut'</li><li>'SlowOut'/'FastIn'</li><li>'SlowInOut'</li><li>'FastInOut'</li><li>'Normal'</li></ul></td></tr></table>

<h4>clearEffect</h4>

<p><code>clearEffect</code> 方法用于清除当前所有特效。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.clearEffect();
</pre>

<h4>skip</h4>

<p><code>skip</code> 方法用于跳过当前特效动画，若特效可跳过则直接设置为特效目标状态。该方法同样会跳过上面提到的插值动画。</p>

<h5>用法</h5>

<pre class="brush:js">
    normalCom.skip();
</pre>

<hr>

<h3 id="picturebox">其他UI组件</h3>

<p>除了基本UI组件 SpeShow 还提供了其他UI组件。<em>这些UI组件都包含了基本UI组件的所有属性和方法</em>，因此以下文档中若提及属性和方法，将只描述与基本UI组件不同的部分，而省略基本UI组件自带的部分。</p>

<hr>

<h3 id="picturebox">图片框</h3>

<p>一般来说，要展示图片，只要使用基本组件的 <code>backgroundImage</code> 相关属性即可满足基本功能。而图片框的存在只是为了方便以后的扩展，使用图片框可以在 <code>backgroundImage</code> 上再放置一个图片。（注：0.9以下版本的图片框支持的视频播放等图片框特有的功能均可以在 <code>backgroundImage</code> 下实现，因此0.11版本以后弱化了相关功能。）</p>

<p>图片框的生产方法为将 <code>createComponent</code> 的 <code>opt</code> 参数的 <code>type</code> 属性设置为 <code>pictureBox</code>：</p>

<pre class="brush:js">
    var pictureCom = screen.createComponent({
        id: '一个图片框',
        type: 'pictureBox'
    });
</pre>

<p>返回的 <code>pictureCom</code> 对象有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>只读</th><th>描述</th></tr><tr><td>fillMode</td><td>字符串</td><td>否</td><td>图片填充模式，可以是以下值：<ul><li>'Positioning' 根据positionMode定位</li><li>'Fill' 拉伸</li><li>'FitWidth' 匹配宽度</li><li>'FitHeight' 匹配高度</li><li>'FitMin' 匹配最短边</li><li>'FitMax' 匹配最长边</li><li>'ResizeBox' 根据图片大小重置组件大小</li></ul>默认为'Positioning'。</td></tr><tr><td>positionMode</td><td>字符串</td><td>否</td><td>图片位置模式，仅当fill_mode设置为'Positioning'时有用。可以是以下值：  <ul>  <li>'Normal'</li>  <li>'TopLeft'</li>  <li>'TopRight'</li> <li>'TopCenter'</li>  <li>'BottomLeft'</li>  <li>'BottomRight'</li>  <li>'BottomCenter'</li>  <li>'CenterLeft'</li>  <li>'CengerRight'</li> <li>'CenterAll'</li>  </ul>  默认为'Normal'，即根据positionX、positionY定位。</td></tr><tr><td>positionX</td><td>数字</td><td>否</td><td>图片相对本组件左上角的水平位置。</td></tr><tr><td>positionY</td><td>数字</td><td>否</td><td>图片相对本组件左上角的垂直位置。</td></tr></table>

<h3>setPicture</h3>

<p>通过调用 <code>pictureCom</code> 对象的 <code>setPicture</code> 方法可以为图片框设置图片。</p>

<h5>用法</h5>

<pre class="brush:js">
    pictureCom.setPicture(texture);
</pre>

<h5>参数</h5>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>texture</td><td>字符串</td><td>是</td><td>无</td><td>目标图像文件的相对路径。</td></tr></table>

<p><code>texture</code> 除了可以是字符串外，还可以是图像对象，详见 <a href="multimedia.html">多媒体文档</a>。</p>

<hr>

<h3 id="textbox">文字框</h3>

<p>文字框是用来显示文字的组件，生产方法为将 <code>createComponent</code> 的 <code>opt</code> 参数的 <code>type</code> 属性设置为 <code>textBox</code>：</p>

<pre class="brush:js">
    var textCom = screen.createComponent({
        id: '一个文字框',
        type: 'textBox'
    });
</pre>

<p>返回的 <code>textCom</code> 对象有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>只读</th><th>描述</th></tr><tr><td>paddingTop</td><td>数字</td><td>否</td><td>文字部分离文字框边框顶部的距离，以像素为单位。</td></tr><tr><td>paddingRight</td><td>数字</td><td>否</td><td>文字部分离文字框边框右边的距离，以像素为单位。</td></tr><tr><td>paddingBottom</td><td>数字</td><td>否</td><td>文字部分离文字框边框底部的距离，以像素为单位。</td></tr><tr><td>paddingLeft</td><td>数字</td><td>否</td><td>文字部分离文字框边框左边的距离，以像素为单位。</td></tr><tr><td>lineSpace</td><td>数字</td><td>否</td><td>行与行之间的间隙，为文字高度的百分比。</td></tr><tr><td>letterSpace</td><td>数字</td><td>否</td><td>同一行中文字与文字之间的间隙，为文字高度的百分比。</td></tr><tr><td>font</td><td>字体对象</td><td>否</td><td>字体对象的格式见下文。</td></tr><tr><td>color</td><td>数字</td><td>否</td><td>默认字体颜色，4通道十六进制数表示。</td></tr><tr><td>text</td><td>字符串</td><td>否</td><td>设置文字框显示内容。</td></tr><tr><td>autoHeight</td><td>布尔值</td><td>否</td><td>是否根据文字长度改变文字框高度。</td></tr><tr><td>textEffectFront</td><td>特效对象</td><td>否</td><td>文字前景特效。</td></tr><tr><td>textEffectBack</td><td>特效对象</td><td>否</td><td>文字背景特效。</td></tr></table>

<p>其中特效对象的格式跟基本组件的 <code>addEffect</code> 的 <code>opt</code> 参数一致。</p>

<p>而 <code>font</code> 字体对象的格式如下：</p>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>size</td><td>数字</td><td>否</td><td>20</td><td>文字大小。</td></tr><tr><td>font</td><td>字符串</td><td>否</td><td>系统默认</td><td>字体名称，如'微软雅黑'（不是字体文件名）。</td></tr><tr><td>weight</td><td>数字</td><td>否</td><td>'Normal'</td><td>字体粗细，可以是 0 - 9 间的数值，或者对应的粗细描述字符串：<ul><li>0：'DontCare'</li><li>1：'Thin'</li><li>2：'ExtraLight' / 'UltraLight'</li><li>3：'Light'</li><li>4：'Normal' / 'Regular'</li><li>5：'Medium'</li><li>6：'SemiBold' / 'DemiBold'</li><li>7：'Bold'</li><li>8：'ExtraBold' / 'UltraBold'</li><li>9：'Heavy' / 'Black'</li></ul></td></tr><tr><td>italic</td><td>布尔值</td><td>否</td><td>false</td><td>是否为斜体字。</td></tr></table>

<p>其中若字体为非系统自带字体，需要使用 SpeShow 模块的 <code>registerFont</code> 方法注册，详见 <a href="speshow_module.html#register_font">SpeShow模块文档</a>。</p>

<h4>addText</h4>

<p>文字框只有一个方法 <code>addText</code> ，可以将一段文字添加到当前文字框的文字后面。</p>

<h5>用法</h5>

<pre class="brush:js">
    textCom.addText(opt);
</pre>

<h5>参数</h5>

<p>若 <code>opt</code> 为字符串则直接按默认字体添加到文字框文字之后。若 <code>opt</code> 为对象，则他可以有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>text</td><td>字符串</td><td>是</td><td>无</td><td>需要添加的文字。</td></tr><tr><td>font</td><td>字体对象</td><td>否</td><td>文字框默认</td><td>添加文字的字体。</td></tr><tr><td>color</td><td>数字</td><td>否</td><td>文字框默认</td><td>添加文字的字体颜色，4通道十六进制数表示。</td></tr><tr><td>effectFront</td><td>特效对象</td><td>否</td><td>文字框默认</td><td>文字前景特效。</td></tr><tr><td>effectBack</td><td>特效对象</td><td>否</td><td>文字框默认</td><td>文字背景特效。</td></tr></table>

<hr>

<h3 id="dialogbox">AVG对话框</h3>

<p>对话框是一种特殊的文字框，<em>它包含文字框的所有属性和方法</em>。与文字框的不同在于对话框可以逐字显示，并有换行换页标记。生产方法为将 <code>createComponent</code> 的 <code>opt</code> 参数的 <code>type</code> 属性设置为 <code>dialogBox</code>：</p>

<pre class="brush:js">
    var dialogCom = screen.createComponent({
        id: '一个对话框',
        type: 'dialogBox'
    });
</pre>

<p>返回的 <code>dialogCom</code> 对象除了文字框固有属性外还有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>只读</th><th>描述</th></tr><tr><td>speed</td><td>数字</td><td>否</td><td>文字显示速度。每秒显示字数。</td></tr><tr><td>nextLineImage</td><td>字符串</td><td>否</td><td>换行标记图片路径。</td></tr><tr><td>nextPageImage</td><td>字符串</td><td>否</td><td>换页标记图片路径。</td></tr></table>

<p>使用 <code>dialogCom</code> 的 <code>text</code> 属性或 <code>addText</code> 方法改变文字时，文字会根据所设速度逐字显示，并在显示到换行或换页标记后在行末显示换行或换页图标。换行换页图标除了可以设成字符串外还可以设成精灵动画，详见 <a href="multimedia.html">多媒体文档</a>。</p>

<p>对话框还有一些额外的方法：</p>

<h4>next</h4>

<p>方法 <code>next</code> ，可以跳过逐字显示，直接显示至行末或页末。</p>

<h5>用法</h5>

<pre class="brush:js">
    dialogCom.next();
</pre>

<h4>isDisplaying</h4>

<p>方法 <code>isDisplaying</code> ，返回一个布尔值，提示当前是否处于逐字显示状态（即是否已显示至行末或页末）。</p>

<h5>用法</h5>

<pre class="brush:js">
    dialogCom.isDisplaying();
</pre>

<h4>isAllDisplayed</h4>

<p>方法 <code>isAllDisplayed</code> ，返回一个布尔值，提示当前是否已将所有文字输出完毕。</p>

<h5>用法</h5>

<pre class="brush:js">
    dialogCom.isAllDisplayed();
</pre>

<h4>markNextLine</h4>

<p>方法 <code>markNextLine</code> ，用于强制将状态标记为等待换行（即会显示换行标记）。</p>

<h5>用法</h5>

<pre class="brush:js">
    dialogCom.markNextLine();
</pre>

<h4>markNextPage</h4>

<p>方法 <code>markNextPage</code> ，用于强制将状态标记为等待换页（即会显示换页标记）。</p>

<h5>用法</h5>

<pre class="brush:js">
    dialogCom.markNextPage();
</pre>

<hr>

<h3 id="scroll">滚动框（列表）</h3>

<p>滚动框是基本UI组件的一种扩展，在其中的子组件，将会按照水平方向或垂直方向和层深的顺序进行排列，子组件之间不会发生重叠，就像一个表一样，把需要展示的内容都陈列出来。生产方法为将 <code>createComponent</code> 的 <code>opt</code> 参数的 <code>type</code> 属性设置为 <code>scroll</code>：</p>

<pre class="brush:js">
    var scrollCom = screen.createComponent({
        id: '一个滚动框',
        type: 'scroll'
    });
</pre>

<p>返回的 <code>scrollCom</code> 对象除了基本属性外还有以下属性：</p>

<table><tr><th>名称</th><th>类型</th><th>只读</th><th>描述</th></tr><tr><td>scrollPosition</td><td>数字</td><td>否</td><td>滚动位置，为0 - 1之间的浮点数。</td></tr><tr><td>direction</td><td>字符串</td><td>否</td><td>可以是'Vertical'（垂直向下）或 'Horizontal'（水平向右）。</td></tr><tr><td>maxCount</td><td>数字</td><td>否</td><td>列表最大容量。</td></tr></table>

<p>在创建了滚动框之后，若向其中添加子组件，此时子组件的 x，y 属性表示的是相对上一个子组件的末端的位移，若为垂直滚动，则末端为上一组件的 <code>y + height</code>，水平滚动则为 <code>x + width</code>。若组件数量超出所设 <code>maxCount</code> 值则会删掉顶部的一个组件。</p>

<p>滚动框还有以下方法：</p>

<h4>scrollBy</h4>

<p>方法 <code>scrollBy</code> ，用于使用像素级滚动。</p>

<h5>用法</h5>

<pre class="brush:js">
    scrollCom.scrollBy(distance);
</pre>

<h5>参数</h5>

<table><tr><th>名称</th><th>类型</th><th>必须</th><th>默认值</th><th>描述</th></tr><tr><td>distance</td><td>整数</td><td>是</td><td>无</td><td>滚动一定像素距离，正数则往末端滚动，负数则往开端滚动。</td></tr></table>

<h4>clear</h4>

<p>方法 <code>clear</code> ，用于清除所有子组件。</p>

<h5>用法</h5>

<pre class="brush:js">
    scrollCom.clear();
</pre>

<hr>

<p>上一节：<a href="screen.html">屏幕</a></p>

<p>下一节：<a href="event.html">事件响应</a></p>

<hr>

<!-- UY BEGIN -->

<div id="uyan_frame"> </div>

<script type="text/javascript" defer="defer" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=1589291" async=""></script>

<!-- UY END -->

			</div>	
		</div>
	</div>
	<!-- /.container -->

	<div role="contentinfo" class="footer">
		<div class="container copyright">
			<p>Copyright &copy; 2011-2014 <a href="http://www.sprabbit.com/">SPRABBIT</a></p>
			<p>Designed by <a href="http://kennethj.lofter.com/">Kenneth.J</a>. Built with <a href="http://getbootstrap.com/">Bootstrap</a>.</p>
		</div>
	</div>
</body>


<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


<script type="text/javascript" src="/js/shCore.js"></script>

<script type="text/javascript" src="/js/shBrushXML.js"></script>

<script type="text/javascript" src="/js/shBrushJScript.js"></script>

<script type="text/javascript" src="/js/highlight.js"></script>

<script type="text/javascript" src="/js/spengine/nav_collapse.js"></script>

<script type="text/javascript" src="/js/baidu_tongji.js"></script>

</html>
