<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>基本UI组件 - SpeShow 基本指令</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="同人游戏,同人社团,游戏引擎,Galgame,AVG,SpeShow,SPRABBIT,SPENGINE,galgame引擎" />
	<meta name="description" content="同人社团SPRABBIT-超科学兔耳中队是一个专注于技术创新的中文同人社团" />

	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

	<!-- syntax highlighting CSS -->
	<link rel="stylesheet" href="/css/syntax.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="stylesheet" href="/css/shCore.css" type="text/css" />
	<link rel="stylesheet" href="/css/shThemeDefault.css" type="text/css" />
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body data-spy="scroll" data-target=".navbar">
	<div class="navbar navbar-inverse" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="/">
					<img src="/images/logo_speshow_long_xs.png">
				</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/spengine/">简介</a>
					</li>
					<li><a href="/spengine/tutorial.html">文档</a>
					</li>
					<li><a href="/spengine/authors.html">关于</a>
					</li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">
		<div class="row">
	<div class="col-md-3">
		<div data-spy="affix" data-offset-top="70" data-offset-bottom="200" class="navbar hidden-print hidden-xs hidden-sm affix-top" role="complementary">
			<ul class="nav sidebar">
	<li><a href="index.html">SpeShow 简介</a>
	</li>
	<li><a href="spengine.html">SPENGINE 简介</a>
	</li>
	<li><a href="why_speshow.html">为什么使用 SpeShow </a>
	</li>
	<li><a href="license.html">使用许可</a>
	</li>
	<li><a href="authors.html">作者 &amp; 招募</a>
	</li>
	<li>
		<a href="download.html">下载</a>
		<ul class="nav">
			<li><a href="download.html">SpeShow</a>
			</li>
			<li><a href="editor.html">KScript Editor</a>
			</li>
			<li><a href="pack_guider.html">SSPackGuider</a>
			</li>
		</ul>
	</li>
	<li>
		<a href="tutorial.html">教程</a>
		<ul class="nav">
			<li><a href="tutorial_deploy.html">部署 SpeShow</a>
			</li>
			<li>
				<a href="tutorial_kscript.html">KScript</a>
				<ul class="nav">
					<li><a href="#tutorial_kscript_comment">注释</a>
					</li>
					<li><a href="#tutorial_kscript_variable">变量</a>
					</li>
					<li><a href="#tutorial_kscript_operation">运算</a>
					</li>
					<li><a href="#tutorial_kscript_function">函数</a>
					</li>
					<li><a href="#tutorial_kscript_branch">分支</a>
					</li>
					<li><a href="#tutorial_kscript_loop">循环</a>
					</li>
					<li><a href="#tutorial_kscript_include">include 函数</a>
					</li>
					<li><a href="#tutorial_kscript_speshow">KScript 与 SpeShow</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_standard.html">基本指令</a>
				<ul class="nav">
					<li><a href="tutorial_standard_screen.html">屏幕</a>
					</li>
					<li><a href="tutorial_standard_component.html">基本UI组件</a>
					</li>
					<li><a href="tutorial_standard_textbox.html">文字框</a>
					</li>
					<li><a href="tutorial_standard_picturebox.html">图片框</a>
					</li>
					<li><a href="tutorial_standard_list.html">列表</a>
					</li>
					<li><a href="tutorial_standard_wait.html">等待</a>
					</li>
					<li><a href="tutorial_standard_exit.html">退出</a>
					</li>
					<li><a href="tutorial_standard_sample.html">示例</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_advanced.html">进阶指令</a>
				<ul class="nav">
					<li><a href="tutorial_advanced_switch.html">切换</a>
					</li>
					<li><a href="tutorial_advanced_sound.html">声音</a>
					</li>
					<li><a href="tutorial_advanced_video.html">视频</a>
					</li>
					<li><a href="tutorial_advanced_effect.html">特效</a>
					</li>
					<li><a href="tutorial_advanced_animation.html">动画</a>
					</li>
					<li><a href="tutorial_advanced_particlesystem.html">粒子系统</a>
					</li>
					<li><a href="tutorial_advanced_capture.html">截图</a>
					</li>
					<li><a href="tutorial_advanced_save.html">存档</a>
					</li>
					<li><a href="tutorial_advanced_skip.html">跳过</a>
					</li>
					<li><a href="tutorial_advanced_texteffect.html">文字特效</a>
					</li>
					<li><a href="tutorial_advanced_dialogbox.html">AVG专用组件：对话框</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_senior.html">高级指令</a>
				<ul class="nav">
					<li><a href="tutorial_senior_pre.html">预执行脚本</a>
					</li>
					<li><a href="tutorial_senior_inner.html">内部脚本</a>
					</li>
					<li><a href="tutorial_senior_listener.html">事件响应脚本</a>
					</li>
					<li><a href="tutorial_senior_jump.html">跳转脚本</a>
					</li>
				</ul>
			</li>
			<li><a href="tutorial_professional.html">高级用途</a>
			</li>
			<li><a href="tutorial_commands.html">指令索引</a>
			</li>
			<li><a href="tutorial_sample.html">示例</a>
			</li>
		</ul>
	</li>
	<li> <a href="show.html">演示</a>
	</li>
	<li> <a href="donate.html">捐赠</a>
	</li>
	<li> <a href="QA.html">FAQ</a>
	</li>
</ul>

		</div>
	</div>
	<div class="col-md-9" role="main">
		<h2>UI组件：基本UI组件</h2>

<p>UI组件是 SpeShow 演示的基本元素，每个被绘制的元素都是一个组件，或者由多个组件组成。</p>

<p>简单来说 UI 组件就是绘制在屏幕上的一个矩形，该矩形有长、宽、位置、背景图片、背景颜色等属性，就相当于 html 里的 div, DOM 里面的 DOM元素。</p>

<p>定义一个基本UI组件的引擎系统函数的格式如下:</p>

<pre class="brush: ks">
// 必要参数列表
@component{
    name:               字符串
}

// 完整参数列表
@component{
    name:               字符串
    display:            字符串
    layer:              数字
    width:              数字
    height:             数字
    x:                  数字
    y:                  数字
    // 详见下表
}
</pre>

<p>其完整参数列表很长，但是必须的仅仅是“name”属性，即组件的ID。其中一些属性以“on”或“catch”开头，这些是关于事件处理的属性，将在后面的章节中讲解，本节只讲解其他基本属性。</p>

<table><tr><td>属性名</td><td>值类型</td><td>说明</td></tr><tr><td>background_color</td><td>数字</td><td>背景颜色，用四通道十六进制数表示。</td></tr><tr><td>background_fill_mode</td><td>字符串</td><td>背景图片填充模式，可以是以下值：<ul><li>'Positioning'</li><li>'Fill'</li><li>'FitWidth'</li><li>'FitHeight'</li><li>'FitMin'</li><li>'FitMax'</li></ul>默认为'Positioning'，即根据background_position_mode定位。</td></tr><tr><td>background_image</td><td>字符串</td><td>背景图片的完整路径，包括后缀。</td></tr><tr><td>background_position_mode</td><td>字符串</td><td>背景图片位置模式，仅当background_fill_mode设置为'Positioning'时有用。可以是以下值：<ul><li>'Normal'</li><li>'TopLeft'</li><li>'TopRight'</li><li>'TopCenter'</li><li>'BottomLeft'</li><li>'BottomRight'</li><li>'BottomCenter'</li><li>'CenterLeft'</li><li>'CengerRight'</li><li>'CenterAll'</li></ul>默认为'Normal'，即根据background_x，background_y来定位。</td></tr><tr><td>background_x</td><td>数字</td><td>背景图片相对本组件左上角的水平位置。</td></tr><tr><td>background_y</td><td>数字</td><td>背景图片相对本组件左上角的垂直位置。</td></tr><tr><td>display</td><td>字符串</td><td>可以设置的值有3个：<ul><li>'unhidden'：显示被设为隐藏的组件。</li><li>'hidden'：隐藏正在显示的组件。</li><li>'toggle'：切换显示隐藏状态。</li></ul></td></tr><tr><td>father</td><td>字符串</td><td>父组件的ID。若不设置，将默认为'global_root'，即该屏幕的根组件。</td></tr><tr><td>height</td><td>数字</td><td>组件的高度，以像素为单位。</td></tr><tr><td>layer</td><td>数字</td><td>层深，为 0-255 间的数字，数字较大的层在数字较小的层前面。</td></tr><tr><td>name</td><td>字符串</td><td>组件的ID，同一个屏幕中只允许存在一个该ID的组件。</td></tr><tr><td>rotation</td><td>数字</td><td>组件绕旋转中心逆时针旋转的弧度。</td></tr><tr><td>rotation_center_x</td><td>数字</td><td>组件旋转中心相对父组件左上角的水平位置，以像素为单位。</td></tr><tr><td>rotation_center_y</td><td>数字</td><td>组件旋转中心相对父组件左上角的垂直位置，以像素为单位。</td></tr><tr><td>transparency</td><td>数字</td><td>透明度，可以是 0 - 1 之间的数。0 为全透。</td></tr><tr><td>width</td><td>数字</td><td>组件的宽度，以像素为单位。</td></tr><tr><td>x</td><td>数字</td><td>组件相对父组件左上角的水平位置，以像素为单位。</td></tr><tr><td>y</td><td>数字</td><td>组件相对父组件左上角的垂直位置，以像素为单位。</td></tr><tr><td>absolute</td><td>布尔值</td><td>是否以绝对模式绘制，默认为true。</td></tr></table>

<p>必须指定组件 ID（name），才能对属性进行设置或更改。若 <em>当前屏幕</em> 中没有以该 ID 命名的 UI 组件，则会在 <em>该屏幕</em> 创建一个新的 UI 组件并对其进行属性设置，否则将对已存在的 UI 组件进行属性设置。</p>

<p>另外，创建 UI 组件时也必须指定 width 和 height， 否则宽度和高度为0，这个组件就看不见了。</p>

<h3>absolute 属性</h3>

<p><em>SpeShow 0.9</em> 版本以后才支持absolute属性，默认为true。这个属性指定是否以<em>绝对位置</em>形式绘制组件，0.9以前的版本只支持<em>相对绘制</em>。
所谓相对绘制，即是一个子组件，是直接绘制到父组件上的，若子组件超出父组件，超出部分将不会绘制。
而绝对绘制中，虽然子组件在逻辑上从属于父组件，但是绘制时将直接绘制到屏幕上，超出父组件的部分照样显示。
设置这个值并不会对其他布局位置参数造成影响，布局参数（如x、y等）仍然为相对于父组件的值。</p>

<p>一般情况下只使用绝对绘制，之所以改用绝对绘制，是因为这将提高绘制的效率以及Alpha混合的效果，比如半透明的图片的色彩将正常显示。
而采用相对绘制半透明图片时，绘制结果将混杂 background_color 的颜色，导致半透明效果降低，比如出现文字锯齿。</p>

<p>虽然绝对定位会获得比较好的绘制效果，但是，截图以及一些针对整个组件的特效，比如遮片动画，将不能兼顾使用绝对绘制的子组件。
若要对整个组件进行操作，请使用相对绘制。</p>

<hr>

<p><a href="tutorial_standard_screen.html">上一节：屏幕</a></p>

<p><a href="tutorial_standard_textbox.html">下一节：文字框</a></p>

	</div>	
</div>

	</div>
	<!-- /.container -->

	<div role="contentinfo" class="footer">
		<div class="container">
			<p>
				
			</p>
		</div>
	</div>
</body>

<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


<script type="text/javascript" src="/js/shCore.js"></script>

<script type="text/javascript" src="/js/shBrushXML.js"></script>

<script type="text/javascript" src="/js/shBrushKScript.js"></script>

<script type="text/javascript" src="/js/highlight.js"></script>

<script type="text/javascript" src="/js/baidu_tongji.js"></script>

</html>
