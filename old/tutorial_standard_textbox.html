<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>文字框 - SpeShow 基本指令</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="同人游戏,同人社团,游戏引擎,Galgame,AVG,SpeShow,SPRABBIT,SPENGINE,galgame引擎" />
	<meta name="description" content="同人社团SPRABBIT-超科学兔耳中队是一个专注于技术创新的中文同人社团" />

	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

	<!-- syntax highlighting CSS -->
	<link rel="stylesheet" href="/css/syntax.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="stylesheet" href="/css/shCore.css" type="text/css" />
	<link rel="stylesheet" href="/css/shThemeDefault.css" type="text/css" />
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body data-spy="scroll" data-target=".navbar">
	<div class="navbar navbar-inverse" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="/">
					<img src="/images/logo_speshow_long_xs.png">
				</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/spengine/">简介</a>
					</li>
					<li><a href="/spengine/tutorial.html">文档</a>
					</li>
					<li><a href="/spengine/authors.html">关于</a>
					</li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">
		<div class="row">
	<div class="col-md-3">
		<div data-spy="affix" data-offset-top="70" data-offset-bottom="200" class="navbar hidden-print hidden-xs hidden-sm affix-top" role="complementary">
			<ul class="nav sidebar">
	<li><a href="index.html">SpeShow 简介</a>
	</li>
	<li><a href="spengine.html">SPENGINE 简介</a>
	</li>
	<li><a href="why_speshow.html">为什么使用 SpeShow </a>
	</li>
	<li><a href="license.html">使用许可</a>
	</li>
	<li><a href="authors.html">作者 &amp; 招募</a>
	</li>
	<li>
		<a href="download.html">下载</a>
		<ul class="nav">
			<li><a href="download.html">SpeShow</a>
			</li>
			<li><a href="editor.html">KScript Editor</a>
			</li>
			<li><a href="pack_guider.html">SSPackGuider</a>
			</li>
		</ul>
	</li>
	<li>
		<a href="tutorial.html">教程</a>
		<ul class="nav">
			<li><a href="tutorial_deploy.html">部署 SpeShow</a>
			</li>
			<li>
				<a href="tutorial_kscript.html">KScript</a>
				<ul class="nav">
					<li><a href="#tutorial_kscript_comment">注释</a>
					</li>
					<li><a href="#tutorial_kscript_variable">变量</a>
					</li>
					<li><a href="#tutorial_kscript_operation">运算</a>
					</li>
					<li><a href="#tutorial_kscript_function">函数</a>
					</li>
					<li><a href="#tutorial_kscript_branch">分支</a>
					</li>
					<li><a href="#tutorial_kscript_loop">循环</a>
					</li>
					<li><a href="#tutorial_kscript_include">include 函数</a>
					</li>
					<li><a href="#tutorial_kscript_speshow">KScript 与 SpeShow</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_standard.html">基本指令</a>
				<ul class="nav">
					<li><a href="tutorial_standard_screen.html">屏幕</a>
					</li>
					<li><a href="tutorial_standard_component.html">基本UI组件</a>
					</li>
					<li><a href="tutorial_standard_textbox.html">文字框</a>
					</li>
					<li><a href="tutorial_standard_picturebox.html">图片框</a>
					</li>
					<li><a href="tutorial_standard_list.html">列表</a>
					</li>
					<li><a href="tutorial_standard_wait.html">等待</a>
					</li>
					<li><a href="tutorial_standard_exit.html">退出</a>
					</li>
					<li><a href="tutorial_standard_sample.html">示例</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_advanced.html">进阶指令</a>
				<ul class="nav">
					<li><a href="tutorial_advanced_switch.html">切换</a>
					</li>
					<li><a href="tutorial_advanced_sound.html">声音</a>
					</li>
					<li><a href="tutorial_advanced_video.html">视频</a>
					</li>
					<li><a href="tutorial_advanced_effect.html">特效</a>
					</li>
					<li><a href="tutorial_advanced_animation.html">动画</a>
					</li>
					<li><a href="tutorial_advanced_particlesystem.html">粒子系统</a>
					</li>
					<li><a href="tutorial_advanced_capture.html">截图</a>
					</li>
					<li><a href="tutorial_advanced_save.html">存档</a>
					</li>
					<li><a href="tutorial_advanced_skip.html">跳过</a>
					</li>
					<li><a href="tutorial_advanced_texteffect.html">文字特效</a>
					</li>
					<li><a href="tutorial_advanced_dialogbox.html">AVG专用组件：对话框</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_senior.html">高级指令</a>
				<ul class="nav">
					<li><a href="tutorial_senior_pre.html">预执行脚本</a>
					</li>
					<li><a href="tutorial_senior_inner.html">内部脚本</a>
					</li>
					<li><a href="tutorial_senior_listener.html">事件响应脚本</a>
					</li>
					<li><a href="tutorial_senior_jump.html">跳转脚本</a>
					</li>
				</ul>
			</li>
			<li><a href="tutorial_professional.html">高级用途</a>
			</li>
			<li><a href="tutorial_commands.html">指令索引</a>
			</li>
			<li><a href="tutorial_sample.html">示例</a>
			</li>
		</ul>
	</li>
	<li> <a href="show.html">演示</a>
	</li>
	<li> <a href="donate.html">捐赠</a>
	</li>
	<li> <a href="QA.html">FAQ</a>
	</li>
</ul>

		</div>
	</div>
	<div class="col-md-9" role="main">
		<h2>UI组件：文字框</h2>

<p>文字框是一种基本 UI 组件的扩展，是一种可以显示文字的 UI 组件。</p>

<p><em>所有 UI 组件都包括基本 UI 组件的属性参数，包括文字框还有接下来将提及的图片框、列表等，因此我不再重复写出这些参数及其说明。</em></p>

<p>创建或修改一个文字框的引擎系统函数的格式如下：</p>

<pre class="brush: ks">
// 必要参数列表
@textBox{
    name:               字符串
} 

// 完整参数列表（不包括基本UI组件的属性参数）
@textBox{
    name:               字符串
    padding:            数字
    line_space:         数字
    word_space:         数字
    font:               字符串
    color:              数字
    content:            字符串
    text_effect_back:   字符串
    text_effect_back_tex:字符串
    text_effect_back_level:数字
    text_effect_back_XX:数字
    text_effect_front:  字符串
    text_effect_front_tex:字符串
    text_effect_front_level:数字
    text_effect_front_XX:数字
}
</pre>

<p>其中以“text_effect”开头的属性参数，是文字特效的相关参数，将在下一节讲解。这里只讲解其他基本参数。</p>

<p>textBox的基本属性的解释如下：</p>

<table><tr><td>属性名</td><td>值类型</td><td>说明</td></tr><tr><td>name</td><td>字符串</td><td>文字框的ID，同一个屏幕中只允许存在一个该ID的组件。</td></tr><tr><td>padding</td><td>数字</td><td>文字部分离文字框边框的宽度，以像素为单位。</td></tr><tr><td>line_space</td><td>数字</td><td>行与行之间的间隙，为文字高度的百分比。</td></tr><tr><td>word_space</td><td>数字</td><td>同一行中文字与文字之间的间隙，为文字高度的百分比。</td></tr><tr><td>font</td><td>字符串</td><td>默认字体的ID，字体的创建方法见下文。</td></tr><tr><td>color</td><td>数字</td><td>默认字体颜色，4通道十六进制数表示。</td></tr><tr><td>content</td><td>字符串</td><td>设置文字框显示内容。（使用默认字体以及颜色）</td></tr></table>

<p>其中有“font”这一属性，需要填写一个已定义字体的 ID。如此，有必要介绍一下设置字体的相关函数。</p>

<h3>字体</h3>

<p>与其他地方不一样，这里的字体，并不单单是指文字的风格，还包括文字大小，文字倾斜，文字粗细这些属性。</p>

<p>设置字体的相关函数有两个。@registerFont 和 @font。前者用来注册一种系统里没有的字体文件，后者创建或是修改一种字体。</p>

<p>@registerFont 的用法很简单，格式如下：</p>

<pre class="brush: ks">
// 完整参数列表
@registerFont{ src: 字符串 } 
</pre>

<p>其参数解释如下：</p>

<table><tr><td>属性名</td><td>值类型</td><td>说明</td></tr><tr><td>src</td><td>字符串</td><td>True Type 字体文件的完整路径，包括后缀。</td></tr></table>

<p>如果您使用的是系统自带的字体，那么您可以不注册字体文件，但是您需要确保你的用户的系统中也有同样的字体。否则，您就要将该种字体放到游戏文件夹下，并使用 @registerFont 注册字体。</p>

<p>当您确定要使用的字体存在或者已经注册后，您就可以使用 @font 创建字体。</p>

<p>@font 的格式如下：</p>

<pre class="brush: ks">
// 必要参数列表
@font{
    name:               字符串
} 

// 完整参数列表
@font{
    name:               字符串
    size:               数字
    font:               字符串
    weight:             数字
    italic:             布尔值
} 
</pre>

<p>其参数解释如下：</p>

<table><tr><td>属性名</td><td>值类型</td><td>说明</td></tr><tr><td>name</td><td>字符串</td><td>字体的ID，程序中只允许存在一个该ID的字体。</td></tr><tr><td>size</td><td>数字</td><td>文字大小。</td></tr><tr><td>font</td><td>字符串</td><td>字体名称（不是字体文件名）。</td></tr><tr><td>weight</td><td>数字</td><td>字体粗细，可以是 0 - 9 间的数值，或者对应的粗细描述字符串：<ul><li>0：'DontCare'</li><li>1：'Thin'</li><li>2：'ExtraLight' / 'UltraLight'</li><li>3：'Light'</li><li>4：'Normal' / 'Regular'</li><li>5：'Medium'</li><li>6：'SemiBold' / 'DemiBold'</li><li>7：'Bold'</li><li>8：'ExtraBold' / 'UltraBold'</li><li>9：'Heavy' / 'Black'</li></ul></td></tr><tr><td>italic</td><td>布尔值</td><td>是否为斜体字。</td></tr></table>

<h3>修改文字框文字</h3>

<p>修改文字框文字，除了使用 @textBox 的 content 属性，还可以使用 @addText 和 @clearText 两个函数。实际上因为 @textBox 的 content 属性不能设置不同于默认字体的字体，所以一般不使用。</p>

<p>@addText 函数可以在指定的文本框的文字内容后面增加新的文字内容，格式如下：</p>

<pre class="brush: ks">
// 必要参数列表
@addText{
    // 无
} 

// 完整参数列表
@addText{
    box:                字符串
    color:              数字
    font:               字符串
    content:            字符串
    effect_back:        字符串
    effect_back_tex:    字符串
    effect_back_level:  数字
    effect_back_XX:     数字
    effect_front:       字符串
    effect_front_tex:   字符串
    effect_front_level: 数字
    effect_front_XX:    数字
} 
</pre>

<p>@clearText 函数可以清楚指定的文本框的文字内容，并替换为新的文字内容，格式如下：</p>

<pre class="brush: ks">
// 必要参数列表
@clearText{
    // 无
} 

// 完整参数列表
@clearText{
    box:                字符串
    color:              数字
    font:               字符串
    content:            字符串
    effect_back:        字符串
    effect_back_tex:    字符串
    effect_back_level:  数字
    effect_back_XX:     数字
    effect_front:       字符串
    effect_front_tex:   字符串
    effect_front_level: 数字
    effect_front_XX:    数字
} 
</pre>

<p>两个函数的参数列表都是一致的，区别只在于 @addText 用于添加文字， @clearText 用于替换文字。其中以“effect”开头的参数用于设置文字的特效，将在下一节中介绍。其余参数的说明如下：</p>

<table><tr><td>属性名</td><td>值类型</td><td>说明</td></tr><tr><td>box</td><td>字符串</td><td>目标文字框的ID，默认则为上次操作的文字框。</td></tr><tr><td>color</td><td>数字</td><td>默认字体颜色，4通道十六进制数表示。</td></tr><tr><td>font</td><td>字符串</td><td>字体ID。</td></tr><tr><td>content</td><td>字符串</td><td>文字内容。</td></tr></table>

<p>如此便可以修改文字框的内容了。</p>

<hr>

<p><a href="tutorial_standard_component.html">上一节：基本组件</a></p>

<p><a href="tutorial_standard_picturebox.html">下一节：图片框</a></p>

	</div>	
</div>

	</div>
	<!-- /.container -->

	<div role="contentinfo" class="footer">
		<div class="container">
			<p>
				
			</p>
		</div>
	</div>
</body>

<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


<script type="text/javascript" src="/js/shCore.js"></script>

<script type="text/javascript" src="/js/shBrushXML.js"></script>

<script type="text/javascript" src="/js/shBrushKScript.js"></script>

<script type="text/javascript" src="/js/highlight.js"></script>

<script type="text/javascript" src="/js/baidu_tongji.js"></script>

</html>
