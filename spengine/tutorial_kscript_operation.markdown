---
layout: spengine
title: 运算 - KScript 教程
css:
 - shCore.css
 - shThemeKScript.css
js:
 - shCore.js
 - shBrushXML.js
 - shBrushKScript.js
 - highlight.js
---

##运算

运算分为赋值运算、算术运算、布尔运算还有字符串加法。*一个单独的运算语句以英文分号“;”结束*。

###赋值运算

赋值运算的目的就是给变量赋值。赋值运算的格式很简单，就是:

<pre class="brush:ks">       
// 赋值运算             
变量名 = 表达式; 
</pre>

其中表达式可以是一个值（整数、浮点数、布尔值、字符串）、变量名，也可以是一个运算式，即本小节所谈及的，包括赋值运算、算术运算、布尔运算还有字符串加法。

赋值结束后，左边标识符（变量名）所代表的值，将等于右边的值，*左边变量类型也将等于右边*。*如果使用未赋值的变量，那么变量值默认为整数0*。

以下为赋值语句的例子:

<pre class="brush:ks">       
// 直接赋值             
a = 1;  // 此时a为整数1

// 算术运算赋值             
a = a + 1;  // 相当于"a = 1 + 1"此时a为整数2

// 布尔运算赋值
a = 1 > 0; // 此时a为布尔值true

// 字符串加法
a = "Hello" + "World"; // 此时a为字符串"HelloWorld"

// 使用未赋值变量
a = b; // 此时a和b均为整数0，因为b未被赋值

// 连续赋值
a = b = 1.0; // 此时a和b均为浮点数1.0
</pre>

除了直接赋值（“=”）之外，KScript还支持以下赋值运算，用法与C语言相同，均可用直接赋值实现，并不需要掌握：

 - “+=”：加等于，左边等于左边加右边
 - “-=”：减等于，左边等于左边减右边
 - “*=”：乘等于，左边等于左边乘右边
 - “/=”：除等于，左边等于左边除以右边
 - “++”：自加，变量在前，加1后运算；变量在后，运算后加1
 - “--”：自减，变量在前，减1后运算；变量在后，运算后减1

###算术运算

算术运算即是四则混合运算，是由“+ - * / % ( ) **”以及数值或变量组合而成的算式。算术运算语句最终返回这个式子的计算结果。

所有运算符以及其含义如下：

 - “+”：加法运算
 - “-”：减法运算
 - “*”：乘法运算
 - “/”：除法运算
 - “%”：取余运算
 - “**”：乘方运算
 - 括号：更改运算次序

以下为算术运算赋值语句的例子:

<pre class="brush:ks">       
// 简单四则运算             
a = 1 + 2 * (3 - 2**0 - 1);  // 此时a为整数3

// 整数除法             
a = a / 2;  // 此时相当于“a = 3 / 2”，a等于整数1

// 浮点数除法
a = 3 / 2.0; // 此时a为浮点数1.5
</pre>

###布尔运算

布尔运算即是逻辑运算，是由“> < == != || && ”以及数值或变量组合而成的算式。布尔运算语句最终返回这个式子的布尔值。

所有运算符以及其含义如下：

 - “>”：大于，判断左边是否大于右边
 - “<”：小于，判断左边是否小于右边
 - “>=”：大于等于，判断左边是否大于或等于右边
 - “<=”：小于等于，判断左边是否小于或等于右边
 - “==”：等于，判断左边是否等于右边
 - “!=”：不等于，判断左边是否不等于右边
 - “||”：逻辑或，判断是否左边为真或右边为真
 - “&&”：逻辑且，判断是否左边为真且右边为真
 - “!”：非，判断右边是否为假

以下为布尔运算赋值语句的例子:

<pre class="brush:ks">       
// 简单布尔组合运算             
a = (1 < 2 || 3 < 1) && false;  // 此时a为布尔值false
</pre>

###字符串加法

字符串加法是指串联字符串，即将两个字符串首尾拼接。其语法为：

<pre class="brush:ks">
字符串1 + 字符串2;
</pre>

若上式中有一个变量的类型不是字符串，那么同样会进行字符串加法，但*非字符串会强制转换为字符串*。

字符串加法赋值语句的例子如下：

<pre class="brush:ks">       
字符串1 = "Hello";
字符串2 = "World";

// 字符串强制转换
字符串3 = 字符串1 + 字符串4; // 此时变量“字符串4”并未赋值，因此默认为整数0，字符串3的值为"Hello0"

// 一般字符串加法
字符串5 = 字符串1 + " " + 字符串2; // 此时字符串5的值为"Hello World"
</pre>

**********************************************************************

[上一节：变量](tutorial_kscript_variable.html)

[下一节：函数](tutorial_kscript_function.html)
