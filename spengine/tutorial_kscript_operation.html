<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>运算 - KScript 教程</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="同人游戏,同人社团,游戏引擎,Galgame,AVG,SpeShow,SPRABBIT,SPENGINE,galgame引擎" />
	<meta name="description" content="同人社团SPRABBIT-超科学兔耳中队是一个专注于技术创新的中文同人社团" />

	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

	<!-- syntax highlighting CSS -->
	<link rel="stylesheet" href="/css/syntax.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="stylesheet" href="/css/shCore.css" type="text/css" />
	<link rel="stylesheet" href="/css/shThemeMidnight.css" type="text/css" />
	<link rel="stylesheet" href="/css/spengine.css" type="text/css" />
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

	<body data-spy="scroll" data-target=".navbar">
	<div class="navbar navbar-inverse navbar-static-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a href="/spengine/">
					<img src="/images/logo_speshow_long_xs.png">
				</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/spengine/">简介</a>
					</li>
					<li><a href="/spengine/tutorial.html">文档</a>
					</li>
					<li><a href="/spengine/authors.html">关于</a>
					</li>
					<li><a href="/speshow/">新版</a>
					</li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<div data-spy="affix" data-offset-top="70" class="navbar hidden-print hidden-xs hidden-sm affix-top" role="complementary">
					<ul class="nav sidebar">
	
	<li class="warn-old-doc">
		<a href="/speshow/">
			此为旧版文档(KS版本)<br/>
			点击这里查看新版(JS版本)
		</a>
	</li>
	<li><a href="index.html">SpeShow 简介</a>
	</li>
	<li><a href="spengine.html">SPENGINE 简介</a>
	</li>
	<li><a href="why_speshow.html">为什么使用 SpeShow </a>
	</li>
	<li><a href="license.html">使用许可</a>
	</li>
	<li><a href="authors.html">作者 &amp; 招募</a>
	</li>
	<li>
		<a href="download.html">下载</a>
		<ul class="nav">
			<li><a href="download.html">SpeShow</a>
			</li>
			<li><a href="editor.html">KScript Editor</a>
			</li>
			<li><a href="pack_guider.html">SSPackGuider</a>
			</li>
		</ul>
	</li>
	<li>
		<a href="tutorial.html">教程</a>
		<ul class="nav">
			<li><a href="tutorial_deploy.html">部署 SpeShow</a>
			</li>
			<li>
				<a href="tutorial_kscript.html">KScript</a>
				<ul class="nav">
					<li><a href="tutorial_kscript_comment.html">注释</a>
					</li>
					<li><a href="tutorial_kscript_variable.html">变量</a>
					</li>
					<li><a href="tutorial_kscript_operation.html">运算</a>
					</li>
					<li><a href="tutorial_kscript_function.html">函数</a>
					</li>
					<li><a href="tutorial_kscript_branch.html">分支</a>
					</li>
					<li><a href="tutorial_kscript_loop.html">循环</a>
					</li>
					<li><a href="tutorial_kscript_include.html">include 函数</a>
					</li>
					<li><a href="tutorial_kscript_speshow.html">KScript 与 SpeShow</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_standard.html">基本指令</a>
				<ul class="nav">
					<li><a href="tutorial_standard_screen.html">屏幕</a>
					</li>
					<li><a href="tutorial_standard_component.html">基本UI组件</a>
					</li>
					<li><a href="tutorial_standard_textbox.html">文字框</a>
					</li>
					<li><a href="tutorial_standard_picturebox.html">图片框</a>
					</li>
					<li><a href="tutorial_standard_list.html">列表</a>
					</li>
					<li><a href="tutorial_standard_wait.html">等待</a>
					</li>
					<li><a href="tutorial_standard_exit.html">退出</a>
					</li>
					<li><a href="tutorial_standard_sample.html">示例</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_advanced.html">进阶指令</a>
				<ul class="nav">
					<li><a href="tutorial_advanced_switch.html">切换</a>
					</li>
					<li><a href="tutorial_advanced_sound.html">声音</a>
					</li>
					<li><a href="tutorial_advanced_video.html">视频</a>
					</li>
					<li><a href="tutorial_advanced_effect.html">特效</a>
					</li>
					<li><a href="tutorial_advanced_animation.html">动画</a>
					</li>
					<li><a href="tutorial_advanced_particlesystem.html">粒子系统</a>
					</li>
					<li><a href="tutorial_advanced_capture.html">截图</a>
					</li>
					<li><a href="tutorial_advanced_save.html">存档</a>
					</li>
					<li><a href="tutorial_advanced_skip.html">跳过</a>
					</li>
					<li><a href="tutorial_advanced_texteffect.html">文字特效</a>
					</li>
					<li><a href="tutorial_advanced_dialogbox.html">AVG专用组件：对话框</a>
					</li>
				</ul>
			</li>
			<li>
				<a href="tutorial_senior.html">高级指令</a>
				<ul class="nav">
					<li><a href="tutorial_senior_pre.html">预执行脚本</a>
					</li>
					<li><a href="tutorial_senior_inner.html">内部脚本</a>
					</li>
					<li><a href="tutorial_senior_listener.html">事件响应脚本</a>
					</li>
					<li><a href="tutorial_senior_jump.html">跳转脚本</a>
					</li>
				</ul>
			</li>
			<li><a href="tutorial_professional.html">高级用途</a>
			</li>
			<li><a href="tutorial_commands.html">指令索引</a>
			</li>
			<li><a href="tutorial_sample.html">示例</a>
			</li>
		</ul>
	</li>
	<li> <a href="show.html">演示</a>
	</li>
	<li> <a href="donate.html">捐赠</a>
	</li>
	<li> <a href="QA.html">FAQ</a>
	</li>
</ul>

				</div>
			</div>
			<div class="col-md-9 content-main" role="main">
				<h2>运算</h2>

<p>运算分为赋值运算、算术运算、布尔运算还有字符串加法。<em>一个单独的运算语句以英文分号“;”结束</em>。</p>

<h3>赋值运算</h3>

<p>赋值运算的目的就是给变量赋值。赋值运算的格式很简单，就是:</p>

<pre class="brush:ks">       
// 赋值运算             
变量名 = 表达式; 
</pre>

<p>其中表达式可以是一个值（整数、浮点数、布尔值、字符串）、变量名，也可以是一个运算式，即本小节所谈及的，包括赋值运算、算术运算、布尔运算还有字符串加法。</p>

<p>赋值结束后，左边标识符（变量名）所代表的值，将等于右边的值，<em>左边变量类型也将等于右边</em>。<em>如果使用未赋值的变量，那么变量值默认为整数0</em>。</p>

<p>以下为赋值语句的例子:</p>

<pre class="brush:ks">       
// 直接赋值             
a = 1;  // 此时a为整数1

// 算术运算赋值             
a = a + 1;  // 相当于"a = 1 + 1"此时a为整数2

// 布尔运算赋值
a = 1 > 0; // 此时a为布尔值true

// 字符串加法
a = "Hello" + "World"; // 此时a为字符串"HelloWorld"

// 使用未赋值变量
a = b; // 此时a和b均为整数0，因为b未被赋值

// 连续赋值
a = b = 1.0; // 此时a和b均为浮点数1.0
</pre>

<p>除了直接赋值（“=”）之外，KScript还支持以下赋值运算，用法与C语言相同，均可用直接赋值实现，并不需要掌握：</p>

<ul>
<li>“+=”：加等于，左边等于左边加右边</li>
<li>“-=”：减等于，左边等于左边减右边</li>
<li>“*=”：乘等于，左边等于左边乘右边</li>
<li>“/=”：除等于，左边等于左边除以右边</li>
<li>“++”：自加，变量在前，加1后运算；变量在后，运算后加1</li>
<li>“--”：自减，变量在前，减1后运算；变量在后，运算后减1</li>
</ul>

<h3>算术运算</h3>

<p>算术运算即是四则混合运算，是由“+ - * / % ( ) **”以及数值或变量组合而成的算式。算术运算语句最终返回这个式子的计算结果。</p>

<p>所有运算符以及其含义如下：</p>

<ul>
<li>“+”：加法运算</li>
<li>“-”：减法运算</li>
<li>“*”：乘法运算</li>
<li>“/”：除法运算</li>
<li>“%”：取余运算</li>
<li>“**”：乘方运算</li>
<li>括号：更改运算次序</li>
</ul>

<p>以下为算术运算赋值语句的例子:</p>

<pre class="brush:ks">       
// 简单四则运算             
a = 1 + 2 * (3 - 2**0 - 1);  // 此时a为整数3

// 整数除法             
a = a / 2;  // 此时相当于“a = 3 / 2”，a等于整数1

// 浮点数除法
a = 3 / 2.0; // 此时a为浮点数1.5
</pre>

<h3>布尔运算</h3>

<p>布尔运算即是逻辑运算，是由“&gt; &lt; == != || &amp;&amp; ”以及数值或变量组合而成的算式。布尔运算语句最终返回这个式子的布尔值。</p>

<p>所有运算符以及其含义如下：</p>

<ul>
<li>“&gt;”：大于，判断左边是否大于右边</li>
<li>“&lt;”：小于，判断左边是否小于右边</li>
<li>“&gt;=”：大于等于，判断左边是否大于或等于右边</li>
<li>“&lt;=”：小于等于，判断左边是否小于或等于右边</li>
<li>“==”：等于，判断左边是否等于右边</li>
<li>“!=”：不等于，判断左边是否不等于右边</li>
<li>“||”：逻辑或，判断是否左边为真或右边为真</li>
<li>“&amp;&amp;”：逻辑且，判断是否左边为真且右边为真</li>
<li>“!”：非，判断右边是否为假</li>
</ul>

<p>以下为布尔运算赋值语句的例子:</p>

<pre class="brush:ks">       
// 简单布尔组合运算             
a = (1 < 2 || 3 < 1) && false;  // 此时a为布尔值false
</pre>

<h3>字符串加法</h3>

<p>字符串加法是指串联字符串，即将两个字符串首尾拼接。其语法为：</p>

<pre class="brush:ks">
字符串1 + 字符串2;
</pre>

<p>若上式中有一个变量的类型不是字符串，那么同样会进行字符串加法，但<em>非字符串会强制转换为字符串</em>。</p>

<p>字符串加法赋值语句的例子如下：</p>

<pre class="brush:ks">       
字符串1 = "Hello";
字符串2 = "World";

// 字符串强制转换
字符串3 = 字符串1 + 字符串4; // 此时变量“字符串4”并未赋值，因此默认为整数0，字符串3的值为"Hello0"

// 一般字符串加法
字符串5 = 字符串1 + " " + 字符串2; // 此时字符串5的值为"Hello World"
</pre>

<hr>

<p><a href="tutorial_kscript_variable.html">上一节：变量</a></p>

<p><a href="tutorial_kscript_function.html">下一节：函数</a></p>

			</div>
		</div>
	</div>
	<!-- /.container -->

	<div role="contentinfo" class="footer">
		<div class="container copyright">
			<p>Copyright &copy; 2011-2014 <a href="http://www.sprabbit.com/">SPRABBIT</a></p>
			<p>Designed by <a href="http://kennethj.lofter.com/">Kenneth.J</a>. Built with <a href="http://getbootstrap.com/">Bootstrap</a>.</p>
		</div>
	</div>
</body>




<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


<script type="text/javascript" src="/js/shCore.js"></script>

<script type="text/javascript" src="/js/shBrushXML.js"></script>

<script type="text/javascript" src="/js/shBrushKScript.js"></script>

<script type="text/javascript" src="/js/highlight.js"></script>

<script type="text/javascript" src="/js/spengine/nav_collapse.js"></script>

<script type="text/javascript" src="/js/baidu_tongji.js"></script>

</html>
